\hypertarget{co2__sensor__task_8h}{}\doxysection{tasks/co2\+\_\+sensor\+\_\+task.h File Reference}
\label{co2__sensor__task_8h}\index{tasks/co2\_sensor\_task.h@{tasks/co2\_sensor\_task.h}}


Co2 sensor implementation using tasks.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$A\+T\+M\+E\+G\+A\+\_\+\+Free\+R\+T\+O\+S.\+h$>$}\newline
{\ttfamily \#include $<$semphr.\+h$>$}\newline
{\ttfamily \#include $<$event\+\_\+groups.\+h$>$}\newline
{\ttfamily \#include $<$task.\+h$>$}\newline
{\ttfamily \#include $<$mh\+\_\+z19.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{co2__sensor__task_8h_ab699b38b3f65bee94d15493b4d5f5e52}{co2\+Sensor\+\_\+create}} (Event\+Group\+Handle\+\_\+t pv\+Event\+Handle\+Measure, Event\+Group\+Handle\+\_\+t pv\+Event\+Handle\+New\+Data, Semaphore\+Handle\+\_\+t p\+Printf\+Semaphore)
\begin{DoxyCompactList}\small\item\em Creates and initializes the co2 sensor (Creates the M\+H-\/\+Z19 driver; creates the co2 sensor task) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{co2__sensor__task_8h_a643ea68c8fb8d392b68e32148ff049a7}{co2\+Sensor\+\_\+callback}} (uint16\+\_\+t ppm)
\begin{DoxyCompactList}\small\item\em The callback function for the M\+H-\/\+Z19 driver measuring. It retrieves the data (co2 value in ppm) and signalizes the finished measurement. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{co2__sensor__task_8h_a3d4ddcabc4f7e3af7ec91da3c606ba26}{co2sensor\+\_\+get\+Co2}} ()
\begin{DoxyCompactList}\small\item\em Gets the last measurement in ppm. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Co2 sensor implementation using tasks. 

\begin{DoxyNote}{Note}
Depends on mh\+\_\+z19.\+h
\end{DoxyNote}
\begin{DoxyAuthor}{Authors}
Justinas Jancys, Fabian Bernhardt 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16/05/2020 11.\+15.\+11 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{co2__sensor__task_8h_a643ea68c8fb8d392b68e32148ff049a7}\label{co2__sensor__task_8h_a643ea68c8fb8d392b68e32148ff049a7}} 
\index{co2\_sensor\_task.h@{co2\_sensor\_task.h}!co2Sensor\_callback@{co2Sensor\_callback}}
\index{co2Sensor\_callback@{co2Sensor\_callback}!co2\_sensor\_task.h@{co2\_sensor\_task.h}}
\doxysubsubsection{\texorpdfstring{co2Sensor\_callback()}{co2Sensor\_callback()}}
{\footnotesize\ttfamily void co2\+Sensor\+\_\+callback (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{ppm }\end{DoxyParamCaption})}



The callback function for the M\+H-\/\+Z19 driver measuring. It retrieves the data (co2 value in ppm) and signalizes the finished measurement. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ppm} & value set by the M\+H-\/\+Z19 driver representing the measurement \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{co2__sensor__task_8h_ab699b38b3f65bee94d15493b4d5f5e52}\label{co2__sensor__task_8h_ab699b38b3f65bee94d15493b4d5f5e52}} 
\index{co2\_sensor\_task.h@{co2\_sensor\_task.h}!co2Sensor\_create@{co2Sensor\_create}}
\index{co2Sensor\_create@{co2Sensor\_create}!co2\_sensor\_task.h@{co2\_sensor\_task.h}}
\doxysubsubsection{\texorpdfstring{co2Sensor\_create()}{co2Sensor\_create()}}
{\footnotesize\ttfamily void co2\+Sensor\+\_\+create (\begin{DoxyParamCaption}\item[{Event\+Group\+Handle\+\_\+t}]{pv\+Event\+Handle\+Measure,  }\item[{Event\+Group\+Handle\+\_\+t}]{pv\+Event\+Handle\+New\+Data,  }\item[{Semaphore\+Handle\+\_\+t}]{p\+Printf\+Semaphore }\end{DoxyParamCaption})}



Creates and initializes the co2 sensor (Creates the M\+H-\/\+Z19 driver; creates the co2 sensor task) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pv\+Event\+Handle\+Measure} & Event group used for triggering the start of a measurement; passed by the controller task \\
\hline
\mbox{\texttt{ in}}  & {\em pv\+Event\+Handle\+New\+Data} & Event group used for signalizing that a measurement is completed and the data can be retrieved \\
\hline
\mbox{\texttt{ in}}  & {\em p\+Printf\+Semaphore} & Mutex for protecting printf function call \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{co2__sensor__task_8h_a3d4ddcabc4f7e3af7ec91da3c606ba26}\label{co2__sensor__task_8h_a3d4ddcabc4f7e3af7ec91da3c606ba26}} 
\index{co2\_sensor\_task.h@{co2\_sensor\_task.h}!co2sensor\_getCo2@{co2sensor\_getCo2}}
\index{co2sensor\_getCo2@{co2sensor\_getCo2}!co2\_sensor\_task.h@{co2\_sensor\_task.h}}
\doxysubsubsection{\texorpdfstring{co2sensor\_getCo2()}{co2sensor\_getCo2()}}
{\footnotesize\ttfamily uint16\+\_\+t co2sensor\+\_\+get\+Co2 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the last measurement in ppm. 

\begin{DoxyReturn}{Returns}
last measured value from C\+O2 sensor 
\end{DoxyReturn}
